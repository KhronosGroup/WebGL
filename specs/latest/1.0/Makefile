.PHONY: all

all: webgl.idl

webgl.idl: index.html extract-idl.py Makefile
	echo "// AUTOGENERATED FILE -- DO NOT EDIT -- SEE Makefile" > webgl.idl
	echo "//" >> webgl.idl
	echo "// WebGL IDL definitions scraped from the Khronos specification:" >> webgl.idl
	echo "// https://www.khronos.org/registry/webgl/specs/latest/" >> webgl.idl
	PYTHONPATH=../../../resources/html5lib-1.1/src:../../../resources/webencodings-0.5.1/src python3 extract-idl.py index.html >> webgl.idl
