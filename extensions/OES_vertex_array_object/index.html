
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>WebGL OES_vertex_array_object Extension Draft Specification</title>
    <link rel="stylesheet" type="text/css" href="../../resources/Khronos-WD.css" />
    <script src="../../resources/jquery-1.3.2.min.js" type="text/javascript"></script>
</head>
    <!--begin-logo-->
    <div>
      <a href="http://webgl.org/"><img alt=WebGL height=72 src="../../resources/WebGL-Logo.png" width=156></a>
      <div class=right>
	<a href="http://khronos.org/"><img alt=Khronos height=60 src="../../resources/KhronosGroup-3D.png" width=220></a>
      </div>
    </div>
    <!--end-logo-->
    
    <h1>WebGL OES_vertex_array_object Extension Draft Specification</h1>
    
    <h2 class="no-toc">Name</h2>
    <p> OES_vertex_array_object </p>

    <h2 class="no-toc">Contact</h2>
    <p> <a href="https://www.khronos.org/webgl/public-mailing-list/">WebGL working group</a> (public_webgl 'at' khronos.org) </p>

    <h2 class="no-toc">Contributors</h2>
    <p> Members of the WebGL working group </p>

    <h2 class="no-toc">Version</h2>
    <p> Last modified date: December 6, 2011 <br>
        Revision: 3
    </p>

    <h2 class="no-toc">Number</h2>
    <p> WebGL extension #5 </p>

    <h2 class="no-toc">Dependencies</h2>
    <p> Written against the WebGL API 1.0 specification. </p>

    <h2 class="no-toc">Overview</h2>
    <p>
      This extension exposes the
      <a href="http://www.khronos.org/registry/gles/extensions/OES/OES_vertex_array_object.txt">OES_vertex_array_object</a>
      functionality to WebGL. Consult the above extension for all documentation, issues, and new
      functions and enumerants.
    </p>
    <h2 class="no-toc">Name Strings (for draft extensions)</h2>
    <ul>
    <li> WEBKIT_OES_vertex_array_object
    <li> MOZ_OES_vertex_array_object
    </ul>

    <h2 class="no-toc">IDL</h2>
    <p>
<pre class="idl">
module webgl {

interface WebGLVertexArrayObjectOES : WebGLObject {
};

interface OES_vertex_array_object {
    const GLenum VERTEX_ARRAY_BINDING_OES = 0x85B5;

    WebGLVertexArrayObjectOES createVertexArrayOES();
    void deleteVertexArrayOES(WebGLVertexArrayObjectOES arrayObject);
    GLboolean isVertexArrayOES(WebGLVertexArrayObjectOES arrayObject);
    void bindVertexArrayOES(WebGLVertexArrayObjectOES arrayObject);
};

};
</pre>
    </p>
    <h2>Issues</h2>
    <p>The OES_vertex_array_object spec does not make it clear
     what happens to buffers that are deleted when they are referenced
     by vertex array objects. It is inferred that all buffers are
     reference counted.
    </p>
    <p>
     Before OES_vertex_array_object there was no way to use a deleted
     buffer in a single context as the spec states it would be unbound
     from all bind points. After OES_vertex_array_object it is now
     possible to use deleted buffers.
    </p>
    <p>
     Furthermore, the OpenGL ES 2.0 spec specifies that using a
     deleted buffer has undefined results including possibly
     corrupt rendering and generating GL errors. Undefined behavior
     is unacceptable for WebGL.
    </p>
    <p>
    Therefore it is recommended this spec not be implemented until
    this issue is resolved.
    </p>
    <h2 class="no-toc">Revision History</h2>
    <p>
      Revision 3, 2011/12/06
      <ul>
      <li> Added vendor-specific name strings for draft extension per discussion on WebGL mailing list.
      </ul>
    </p>
    <p>
      Revision 2, 2011/01/27
      <ul>
      <li> Demotion to draft.
      </ul>
    </p>
    <p>
      Revision 1, 2011/01/27
      <ul>
      <li> Initial revision.
      </ul>
    </p>
</body>
</html>
