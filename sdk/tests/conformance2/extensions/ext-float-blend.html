<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>WebGL EXT_float_blend Conformance Tests</title>
<link rel="stylesheet" href="../../resources/js-test-style.css"/>
<script src="../../js/js-test-pre.js"></script>
<script src="../../js/webgl-test-utils.js"></script>
<script src="../../js/tests/ext-float-blend.js"></script>
</head>
<body>
<div id="description"></div>
<div id="console"></div>
<script>
"use strict";
description("This test verifies the functionality of the EXT_float_blend extension, if it is available.");

var wtu = WebGLTestUtils;
var canvas = document.getElementById("canvas");
var gl = wtu.create3DContext(canvas);
var ext = null;

(function(){
    const colorBufferFloat = gl.getExtension("EXT_color_buffer_float");
    if (!colorBufferFloat) {
        testPassed("EXT_color_buffer_float is allowed to be missing.");
        return;
    }

    debug("");
    debug("Testing float32 blending without EXT_float_blend");
    testExtFloatBlend(gl.RGBA32F);
    testExtFloatBlendMRT();
    testExtFloatBlendNonFloat32Type();

    const floatBlend = gl.getExtension("EXT_float_blend");
    if (!floatBlend) {
        testPassed("EXT_float_blend is allowed to be missing.");
        return;
    }

    debug("");
    debug("Testing that float32 blending is allowed with EXT_float_blend");
    testExtFloatBlend(gl.RGBA32F);
    testExtFloatBlendMRT();
    testExtFloatBlendNonFloat32Type();
})();

debug("");
var successfullyParsed = true;
</script>
<script src="../../js/js-test-post.js"></script>

</body>
</html>
<!--
Copyright (c) 2019 The Khronos Group Inc.
Use of this source code is governed by an MIT-style license that can be
found in the LICENSE.txt file.
-->
